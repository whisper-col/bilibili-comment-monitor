<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B站评论多账号监控台</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>📡 B站评论监控 (多账号版)</h1>
            <div id="status-indicator" class="status-offline">系统就绪</div>
        </header>

        <div class="control-panel">
            <div class="section-group">
                <h3>1. 监控目标</h3>
                <div class="input-group">
                    <label>视频 BVID</label>
                    <input type="text" id="bvid" placeholder="输入 BVID 或粘贴视频链接" value="">
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="fetch_sub" checked>
                    <label for="fetch_sub">同时抓取子评论 (楼中楼)</label>
                </div>
            </div>

            <div class="section-group">
                <h3>2. 账号池管理 <span id="pool-count">(0 个账号)</span></h3>
                <p class="hint">导入包含多个账号 Cookie 的 JSON 文件，系统会自动轮询使用。</p>

                <div class="file-upload-area">
                    <input type="file" id="cookie-file" accept=".json" hidden>
                    <button id="import-btn" class="btn secondary-btn">📁 导入 Cookie 文件 (.json)</button>
                    <span id="file-name" class="file-name"></span>
                </div>

                <div class="format-hint">
                    <details>
                        <summary>📋 文件格式说明</summary>
                        <pre>[
  {
    "sessdata": "你的SESSDATA_1",
    "buvid3": "可选",
    "bili_jct": "可选"
  },
  {
    "sessdata": "你的SESSDATA_2"
  }
]</pre>
                    </details>
                </div>

                <div id="account-list" class="account-list">
                    <div class="empty-tip">暂无账号，请导入 Cookie 文件</div>
                </div>

                <button id="clear-pool-btn" class="btn text-btn-danger" style="display:none;">🗑️ 清空账号池</button>
            </div>

            <div class="action-bar">
                <button id="start-btn" class="btn primary-btn">🚀 开始监控</button>
                <button id="stop-btn" class="btn danger-btn" disabled>🛑 停止监控</button>
            </div>
        </div>

        <div class="log-panel">
            <div class="log-header">
                <h3>实时评论流</h3>
                <button id="clear-log" class="text-btn">清空</button>
            </div>
            <div id="comments-container" class="comments-list">
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>